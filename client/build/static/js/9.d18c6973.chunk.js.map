{"version":3,"sources":["post/apiPost.js","user/Default.png","user/DeleteUser.js","user/FollowProfileButton.js","user/ProfileTabs.js","user/Profile.js"],"names":["create","userId","token","post","a","axios","headers","Authorization","then","res","data","catch","err","list","get","console","log","pageList","page","response","like","postId","fetch","method","Accept","body","JSON","stringify","json","unlike","singlePost","id","listByUser","result","error","remove","update","comment","uncomment","module","exports","DeleteUser","state","redirect","deleteAccount","props","isAuthenticated","logout","setState","deleteConfirm","window","confirm","this","to","onClick","className","Component","FollowProfileButton","followClick","onButtonClick","follow","unfollowClick","unfollow","following","ProfileTabs","followers","posts","length","map","person","i","key","_id","style","borderRadius","border","height","width","onError","target","src","Default","alt","name","title","Profile","checkFollow","user","jwt","find","follower","clickFollowButton","callApi","init","read","redirectToSignin","match","params","photoUrl","class","aria-label","href","aria-current","Date","created","toDateString","about","email","phone_number","role"],"mappings":"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","file":"static/js/9.d18c6973.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const create = async (userId, token, post) => {\n  return await axios\n    .post(`/api/post/new/${userId}`, post, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n    .then((res) => res.data)\n    .catch((err) => err);\n};\n\nexport const list = async () => {\n  return await axios\n    .get(`/api/post`)\n    .then((res) => {\n      console.log(res);\n      return res.data;\n    })\n    .catch((err) => {\n      console.log(err);\n      return err;\n    });\n};\nexport const pageList = async (page) => {\n  return await axios\n    .get(`/api/post/?page=${page}`)\n    .then((res) => {\n      console.log(res);\n      return res.data;\n    })\n    .catch((err) => {\n      console.log(err.response);\n      return err.response;\n    });\n};\n\nexport const like = (userId, token, postId) => {\n  return fetch(`/api/post/like`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ userId, postId }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const unlike = (userId, token, postId) => {\n  return fetch(`/api/post/unlike`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ userId, postId }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\nexport const singlePost = async (id) => {\n  return await axios\n    .get(`/api/post/${id}`)\n    .then((res) => res.data)\n    .catch((err) => err);\n};\nexport const listByUser = async (userId, token) => {\n  return await axios\n    .get(`/api/post/by/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n    .then((res) => res.data.result)\n    .catch((err) => console.error(err));\n};\nexport const remove = async (postId, token) => {\n  try {\n    const response = await fetch(`/api/post/${postId}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\nexport const update = async (postId, token, post) => {\n  //console.log(postId, token, post);\n  try {\n    const response = await axios(`/api/post/${postId}`, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      data: post,\n    });\n    if (response) {\n      return response;\n    }\n  } catch (err) {\n    console.error(err);\n    if (err.response.data) {\n      return err.response.data;\n    }\n  }\n};\n\nexport const comment = (userId, token, postId, comment) => {\n  return fetch(`/api/post/comment`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ userId, postId, comment }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const uncomment = (userId, token, postId, comment) => {\n  return fetch(`/api/post/uncomment`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ userId, postId, comment }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n","module.exports = __webpack_public_path__ + \"static/media/Default.2aee7378.png\";","import React, { Component } from \"react\"; \nimport {isAuthenticated} from '../auth';\nimport {Redirect} from 'react-router-dom';\nimport {remove} from './apiUser';\nimport {logout} from '../auth';\nclass DeleteUser extends Component {\n  state={\n    redirect:false\n  }\n  deleteAccount=()=>{\n    const userId=this.props.userId;\n    const token=isAuthenticated().token;\n    remove(userId,token).then(data => {\n      logout(() => console.log('signout'))\n      this.setState({redirect:true});\n    })\n    .catch(err => console.log(err))\n  }\n  deleteConfirm=()=>{\n    let ans=window.confirm(\"Are u sure to delete account?\");\n    if(ans){\n      this.deleteAccount();\n    }\n\n  }\n  render() {\n    if(this.state.redirect){\n      return <Redirect to='/'/>\n    }\n    return (\n     <button onClick={this.deleteConfirm} className='btn btn-raised btn-danger'>Delete</button>\n    );\n  }\n}\n\nexport default DeleteUser;","import React, { Component } from \"react\";\nimport { follow, unfollow } from \"./apiUser\";\nclass FollowProfileButton extends Component {\n  followClick = () => {\n    console.log(\"i m follow\");\n    this.props.onButtonClick(follow);\n  };\n  unfollowClick = () => {\n    console.log(\"i m unfollow\");\n    this.props.onButtonClick(unfollow);\n  };\n  render() {\n    return (\n      <div className=\"d-inline-block mt-2\">\n        {!this.props.following ? (\n          <button\n            onClick={this.followClick}\n            className=\"btn btn-success btn-raised mt-5\"\n          >\n            Follow\n          </button>\n        ) : (\n          <button\n            onClick={this.unfollowClick}\n            className=\"btn btn-success btn-raised mt-5\"\n          >\n            UnFollow\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default FollowProfileButton;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Default from \"./Default.png\";\nexport default class ProfileTabs extends Component {\n  render() {\n    const { following, followers, posts } = this.props;\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-4\">\n            <h3 className=\"text-primary\">{followers.length} Followers</h3>\n            <hr />\n            {followers.map((person, i) => (\n              <div key={i}>\n                <div>\n                  <Link to={`/user/${person._id}`}>\n                    <img\n                      style={{\n                        borderRadius: \"50%\",\n                        border: \"1px solid black\"\n                      }}\n                      className=\"float-left mr-2\"\n                      height=\"30px\"\n                      width=\"30px\"\n                      onError={i => (i.target.src = `${Default}`)}\n                      src={`/api/user/photo/${person._id}`}\n                      alt={person.name}\n                    />\n                    <div>\n                      <p className=\"lead\">{person.name}</p>\n                    </div>\n                  </Link>\n                </div>\n                <br />\n              </div>\n            ))}\n          </div>\n\n          <div className=\"col-md-4\">\n            <h3 className=\"text-primary\">{following.length} Following</h3>\n            <hr />\n            {following.map((person, i) => (\n              <div key={i}>\n                <div>\n                  <Link to={`/user/${person._id}`}>\n                    <img\n                      style={{\n                        borderRadius: \"50%\",\n                        border: \"1px solid black\"\n                      }}\n                      className=\"float-left mr-2\"\n                      height=\"30px\"\n                      width=\"30px\"\n                      onError={i => (i.target.src = `${Default}`)}\n                      src={`/api/user/photo/${person._id}`}\n                      alt={person.name}\n                    />\n                    <div>\n                      <p className=\"lead\">{person.name}</p>\n                    </div>\n                  </Link>\n                </div>\n                <br />\n              </div>\n            ))}\n          </div>\n          <div className=\"col-md-4\">\n            <h3 className=\"text-primary\">{posts.length} Posts</h3>\n            <hr />\n            {posts.map((post, i) => (\n              <div key={i}>\n                <div>\n                  <Link to={`/post/${post._id}`}>\n                    <div>\n                      <p className=\"lead\">{post.title}</p>\n                    </div>\n                  </Link>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { read } from \"./apiUser\";\nimport Default from \"./Default.png\";\nimport DeleteUser from \"./DeleteUser\";\nimport FollowProfileButton from \"./FollowProfileButton\";\nimport ProfileTabs from \"./ProfileTabs\";\nimport { listByUser } from \"../post/apiPost\";\nclass Profile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: { following: [], followers: [] },\n      redirectToSignin: false,\n      following: false,\n      error: \"\",\n      posts: []\n    };\n  }\n  // check follow\n  checkFollow = user => {\n    const jwt = isAuthenticated();\n    const match = user.followers.find(follower => {\n      // one id has many other ids (followers) and vice versa\n      return follower._id === jwt.user._id;\n    });\n    return match;\n  };\n\n  clickFollowButton = callApi => {\n    const userId = isAuthenticated().user._id;\n    const token = isAuthenticated().token;\n\n    callApi(userId, token, this.state.user._id)\n      .then(data => {\n        console.log(data);\n        this.setState({ user: data, following: !this.state.following });\n      })\n      .catch(err => this.setState({ error: err.response }));\n  };\n\n  init = userId => {\n    const token = isAuthenticated().token;\n    read(userId, token)\n      .then(data => {\n        listByUser(userId, token).then(res => {\n          this.setState({ posts: res });\n        });\n        let following = this.checkFollow(data.data);\n        this.setState({ user: data.data, following });\n      })\n      .catch(error => {\n        console.error(error.response);\n        this.setState({ redirectToSignin: true });\n      });\n  };\n  componentDidMount() {\n    const userId = this.props.match.params.userId;\n    this.init(userId);\n  }\n\n  componentWillReceiveProps(props) {\n    const userId = props.match.params.userId;\n    this.init(userId);\n  }\n\n  render() {\n    const { redirectToSignin, posts, user } = this.state;\n    if (redirectToSignin) return <Redirect to=\"/login\" />;\n\n    const photoUrl = user._id ? `/api/user/photo/${user._id}` : Default;\n\n    return (\n      <div className=\"m-4\">\n        <div class=\"container\">\n          <div class=\"main-body\">\n            <nav aria-label=\"breadcrumb\" class=\"main-breadcrumb\">\n              <ol class=\"breadcrumb\">\n                <li class=\"breadcrumb-item\">\n                  <a href=\"/\">Home</a>\n                </li>\n                <li class=\"breadcrumb-item active\" aria-current=\"page\">\n                  User Profile\n                </li>\n              </ol>\n            </nav>\n\n            <div class=\"row gutters-sm\">\n              <div class=\"col-md-4 mb-3\">\n                <div class=\"card\">\n                  <div class=\"card-body\">\n                    <div class=\"d-flex flex-column align-items-center text-center\">\n                      <img\n                        src={photoUrl}\n                        onError={i => {\n                          i.target.src = `${Default}`;\n                        }}\n                        alt={user.name}\n                        class=\"rounded-circle\"\n                        width=\"150\"\n                      />\n                      <div class=\"mt-3\">\n                        <h4>{user.name}</h4>\n                        <p class=\"text-secondary mb-1\">A Golden Blogger</p>\n                        {`Joined ${new Date(user.created).toDateString()}`}\n                        <p class=\"text-muted font-size-sm\">{user.about}</p>\n                        <div class=\"row\">\n                          {isAuthenticated().user &&\n                          isAuthenticated().user._id === user._id ? (\n                            <div className=\"d-inline-block\">\n                              <Link\n                                className=\"btn btn-raised btn-info mr-5\"\n                                to={`/create/post`}\n                              >\n                                Create Post\n                              </Link>\n\n                              <Link\n                                className=\"btn btn-raised btn-success mr-5\"\n                                to={`/profile/edit/${user._id}`}\n                              >\n                                Edit Profile\n                              </Link>\n                              {/* <DeleteUser userId={user._id} /> */}\n                            </div>\n                          ) : (\n                            <FollowProfileButton\n                              following={this.state.following}\n                              onButtonClick={this.clickFollowButton}\n                            />\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-md-8\">\n                <div class=\"card mb-3\">\n                  <div class=\"card-body\">\n                    <div class=\"row\">\n                      <div class=\"col-sm-3\">\n                        <h6 class=\"mb-0\">Full Name</h6>\n                      </div>\n                      <div class=\"col-sm-9 text-secondary\">{user.name}</div>\n                    </div>\n                    <hr />\n                    <div class=\"row\">\n                      <div class=\"col-sm-3\">\n                        <h6 class=\"mb-0\">Email</h6>\n                      </div>\n                      <div class=\"col-sm-9 text-secondary\">{user.email}</div>\n                    </div>\n                    <hr />\n                    <div class=\"row\">\n                      <div class=\"col-sm-3\">\n                        <h6 class=\"mb-0\">Phone</h6>\n                      </div>\n                      <div class=\"col-sm-9 text-secondary\">\n                        {user.phone_number}\n                      </div>\n                    </div>\n                    <hr />\n                    <div class=\"row\">\n                      <div class=\"col-sm-3\">\n                        <h6 class=\"mb-0\">About</h6>\n                      </div>\n                      <div class=\"col-sm-9 text-secondary\">{user.about}</div>\n                    </div>\n                    <hr />\n                  </div>\n                </div>\n                <ProfileTabs\n                  posts={posts}\n                  followers={this.state.user.followers}\n                  following={this.state.user.following}\n                />\n              </div>\n            </div>\n          </div>\n          {isAuthenticated().user && isAuthenticated().user.role === \"admin\" && (\n            <div className=\"card mt-5\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Admin</h5>\n                <p className=\"mb-2 text-danger\">Edit/Delete as an Admin</p>\n                <Link\n                  className=\"btn btn-raised btn-success mr-5\"\n                  to={`/profile/edit/${user._id}`}\n                >\n                  Edit Profile\n                </Link>\n                <DeleteUser userId={user._id} />\n              </div>\n            </div>\n          )}\n        </div>\n        {/* <div className=\"container\">\n        <h2 className=\"mt-5 mb-5\">Profile</h2>\n        <div className=\"row\">\n          <div className=\"col-md-4\">\n            <img\n              style={{ height: \"200px\", width: \"auto\" }}\n              className=\"img-thumbnail\"\n              src={photoUrl}\n              onError={(i) => {\n                i.target.src = `${Default}`;\n              }}\n              alt={user.name}\n            />\n          </div>\n\n          <div className=\"col-md-8\">\n            <div className=\"lead mt-2\">\n              <p>Hello {user.name}</p>\n              <p>Email: {user.email}</p>\n              <p>{`Joined ${new Date(user.created).toDateString()}`}</p>\n            </div>\n\n            {isAuthenticated().user &&\n            isAuthenticated().user._id === user._id ? (\n              <div className=\"d-inline-block\">\n                <Link\n                  className=\"btn btn-raised btn-info mr-5\"\n                  to={`/create/post`}\n                >\n                  Create Post\n                </Link>\n\n                <Link\n                  className=\"btn btn-raised btn-success mr-5\"\n                  to={`/profile/edit/${user._id}`}\n                >\n                  Edit Profile\n                </Link>\n                <DeleteUser userId={user._id} />\n              </div>\n            ) : (\n              <FollowProfileButton\n                following={this.state.following}\n                onButtonClick={this.clickFollowButton}\n              />\n            )}\n          </div>\n          <hr />\n        </div>\n        <div className=\"row\">\n          <div className=\"col md-12 mt-5 mb-5\">\n            <hr />\n            <p className=\"lead\">{user.about}</p>\n            <hr />\n            <ProfileTabs\n              posts={posts}\n              followers={this.state.user.followers}\n              following={this.state.user.following}\n            />\n          </div>\n        </div>\n        <div>\n          {isAuthenticated().user && isAuthenticated().user.role === \"admin\" && (\n            <div className=\"card mt-5\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">Admin</h5>\n                <p className=\"mb-2 text-danger\">Edit/Delete as an Admin</p>\n                <Link\n                  className=\"btn btn-raised btn-success mr-5\"\n                  to={`/profile/edit/${user._id}`}\n                >\n                  Edit Profile\n                </Link>\n                <DeleteUser userId={user._id} />\n              </div>\n            </div>\n          )}\n        </div>\n      </div> */}\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n"],"sourceRoot":""}