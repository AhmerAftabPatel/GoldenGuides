(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{204:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"j",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"g",(function(){return m})),n.d(e,"k",(function(){return b})),n.d(e,"a",(function(){return g})),n.d(e,"i",(function(){return v}));var r=n(12),a=n.n(r),o=n(29),c=n(25),i=n.n(c),u=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("/api/post/new/".concat(e),r,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){return t.data})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),s=function(){var t=Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/api/post").then((function(t){return console.log(t),t.data})).catch((function(t){return console.log(t),t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(o.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/api/post/?page=".concat(e)).then((function(t){return console.log(t),t.data})).catch((function(t){return console.log(t.response),t.response}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(t,e,n){return fetch("/api/post/like",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:t,postId:n})}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},d=function(t,e,n){return fetch("/api/post/unlike",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:t,postId:n})}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},f=function(){var t=Object(o.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/api/post/".concat(e)).then((function(t){return t.data})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/api/post/by/".concat(e),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){return t.data.result})).catch((function(t){return console.error(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/post/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return r=t.sent,t.abrupt("return",r.json());case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",console.log(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i()("/api/post/".concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},data:r});case 3:if(!(o=t.sent)){t.next=6;break}return t.abrupt("return",o);case 6:t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(0),console.error(t.t0),!t.t0.response.data){t.next=13;break}return t.abrupt("return",t.t0.response.data);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n,r){return t.apply(this,arguments)}}(),g=function(t,e,n,r){return fetch("/api/post/comment",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:t,postId:n,comment:r})}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},v=function(t,e,n,r){return fetch("/api/post/uncomment",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:t,postId:n,comment:r})}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))}},243:function(t,e,n){"use strict";n.r(e);var r=n(111),a=n(80),o=n(81),c=n(83),i=n(82),u=n(0),s=n.n(u),l=n(11),p=n(9),d=n(204),f=n(214),h=n.n(f),m=n(222),b=n.n(m),g=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){var t;return Object(a.a)(this,n),(t=e.call(this)).handleChange=function(e){return function(n){var a;t.setState({error:""});var o="photo"===e?n.target.files[0]:n.target.value,c="photo"===e?n.target.files[0].size:0;t.postData.append(e,o),t.setState((a={},Object(r.a)(a,e,o),Object(r.a)(a,"fileSize",c),a))}},t.clickSubmit=function(e){if(e.preventDefault(),t.setState({loading:!0}),t.isValid()){var n=Object(l.c)().user._id,r=Object(l.c)().token;Object(d.b)(n,r,t.postData).then((function(e){e.error?t.setState({error:e.error,loading:!1}):t.setState({loading:!1,redirect:"true",title:"",body:"",photo:"",error:""})}))}},t.isValid=function(){var e=t.state,n=e.title,r=e.body;return e.fileSize>1e6?(t.setState({error:"File size should be less than 100kb",loading:!1}),!1):!(n.length>=1&&r.length<=5)||(t.setState({error:"All fields must be at least 6 characters long",loading:!1}),!1)},t.state={title:"",body:"",photo:"",error:"",user:{},fileSize:0,loading:!1,redirect:!1},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.postData=new FormData;var t=Object(l.c)().user;this.setState({user:t})}},{key:"render",value:function(){var t=this,e=this.state,n=e.loading,r=e.redirect,a=e.user;return r?s.a.createElement(p.a,{to:"/user/".concat(a._id)}):s.a.createElement("div",{className:"container",style:{marginTop:"1vh",padding:"5vw"}},s.a.createElement("div",{className:"card cloudy-knoxville-gradient"},s.a.createElement("h2",{className:"card-header text-center"},s.a.createElement("strong",null,"Create your ",s.a.createElement("span",{style:{color:"gold"}},"Awesome!")," blog")),s.a.createElement("div",{className:"card-body px-lg-5 pt-0"},n?"Loading...":null,s.a.createElement("form",{onSubmit:this.clickSubmit,encType:"multipart/form-data",className:"text-center",style:{color:"#757575"}},s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"md-form"},s.a.createElement("input",{type:"file",accept:"image/*",required:"required",onChange:this.handleChange("photo"),className:"form-control"}))),s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"md-form"},s.a.createElement("input",{autoCapitalize:"true",autoComplete:"post",type:"text",required:"required",onChange:this.handleChange("title"),id:"materialRegisterFormLastName",className:"form-control"}),s.a.createElement("label",{htmlFor:"materialRegisterFormLastName"},"Your Awesome title "))),s.a.createElement("div",{className:"md-form"},s.a.createElement(h.a,{onInit:function(t){console.log("Editor is ready to use!",t),t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())},onChange:function(e,n){var r=n.getData();t.postData.append("body",r),t.setState({body:r})},editor:b.a,data:"<p>Create Your Content</p><br/><br/><br/><br/><br/><br/>"})),s.a.createElement("button",{onClick:this.clickSubmit,className:"btn btn-outline-info btn-rounded w-50 my-4 waves-effect z-depth-0",type:"submit"},"Create"),s.a.createElement("button",{onClick:function(){return t.props.history.push("/")},className:"btn btn-outline-danger btn-rounded my-4 waves-effect z-depth-0"},"Cancel")))))}}]),n}(u.Component);e.default=g}}]);
//# sourceMappingURL=11.1fa4831c.chunk.js.map